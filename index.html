<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For Madhu ❤️</title>
  <style>
    body {
      background-color: pink;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      height: 100vh;
      margin: 0;
      overflow: hidden;
    }
    .chat-box {
      background: white;
      border-radius: 20px;
      padding: 20px;
      width: 95%;
      max-width: 400px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      z-index: 2;
    }
    .message {
      margin: 10px 0;
      padding: 12px 16px;
      background-color: green;
      color: black;
      border-radius: 20px;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.4s ease;
    }
    .message.show {
      opacity: 1;
      transform: translateY(0);
    }
    .final-text {
      font-size: 2em;
      font-weight: bold;
      color: red;
      opacity: 0;
      transition: opacity 1s ease-in;
      z-index: 3;
    }
    .final-text.show {
      opacity: 1;
    }
    .heart {
      position: fixed;
      width: 20px;
      height: 20px;
      background-color: red;
      transform: rotate(45deg);
      animation: floatUp 4s linear forwards;
      opacity: 0.8;
      z-index: 1;
    }
    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: red;
      border-radius: 50%;
    }
    .heart::before {
      top: -10px;
      left: 0;
    }
    .heart::after {
      left: -10px;
      top: 0;
    }
    @keyframes floatUp {
      0% {
        transform: translateY(0) scale(1) rotate(45deg);
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) scale(1.5) rotate(45deg);
        opacity: 0;
      }
    }
    .fireworks {
      position: fixed;
      bottom: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }
    .flying-text {
      position: absolute;
      font-size: 1.5em;
      color: violet;
      animation: fly 4s ease-in-out forwards;
      opacity: 0.7;
      z-index: 2;
    }
    @keyframes fly {
      0% {
        transform: translate(0, 0);
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
      }
    }
    .rainbow-arc {
      position: absolute;
      width: 100vw;
      height: 100vh;
      background: radial-gradient(ellipse at center, rgba(255,0,0,0.1), rgba(255,165,0,0.1), rgba(255,255,0,0.1), rgba(0,128,0,0.1), rgba(0,0,255,0.1), rgba(75,0,130,0.1), rgba(238,130,238,0.1));
      border-radius: 50%;
      top: -50vh;
      left: 0;
      animation: fadeArc 5s ease-in-out infinite;
      z-index: 1;
      pointer-events: none;
    }
    @keyframes fadeArc {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }
    .popup {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #ff66cc;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      font-size: 1.2em;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      z-index: 10;
      animation: popShow 2s ease forwards;
    }
    @keyframes popShow {
      0% { opacity: 0; transform: translateX(-50%) scale(0.8); }
      100% { opacity: 1; transform: translateX(-50%) scale(1); }
    }
  </style>
</head>
<body>
  <div class="popup">Madhu &gt;3</div>
  <div class="chat-box" id="chat"></div>
  <div class="final-text" id="finalText">MADHU ❤️</div>
  <div class="rainbow-arc"></div>
  <canvas class="fireworks" id="fireCanvas"></canvas>

  <script>
    const messages = [
      "Hey Madhu...",
      "I was just sitting and thinking about you...",
      "About how your smile makes my day brighter ☀️",
      "About how everything feels better when you're around.",
      "I don't know how to explain this...",
      "But you’ve become the most important part of my life.",
      "You're not just special…",
      "You’re everything ❤️",
      "I love you, Madhu.",
      "– The guy who’s madly in love with you ☁️✨"
    ];

    const chat = document.getElementById("chat");
    const finalText = document.getElementById("finalText");

    let i = 0;
    function showNextMessage() {
      if (i < messages.length) {
        const msg = document.createElement("div");
        msg.className = "message";
        msg.textContent = messages[i];
        chat.appendChild(msg);
        setTimeout(() => msg.classList.add("show"), 100);
        i++;
        setTimeout(showNextMessage, 2000);
      } else {
        setTimeout(() => {
          finalText.classList.add("show");
          launchHearts();
          startFireworks();
          launchFlyingTexts();
        }, 2000);
      }
    }

    function launchHearts() {
      for (let j = 0; j < 50; j++) {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.bottom = "0";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }
    }

    function launchFlyingTexts() {
      for (let j = 0; j < 30; j++) {
        const text = document.createElement("div");
        text.className = "flying-text";
        text.textContent = "Madhu";
        text.style.left = Math.random() * 100 + "vw";
        text.style.top = Math.random() * 100 + "vh";
        document.body.appendChild(text);
        setTimeout(() => text.remove(), 4000);
      }
    }

    function startFireworks() {
      const canvas = document.getElementById("fireCanvas");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let particles = [];

      function createFirework() {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height / 2;
        for (let i = 0; i < 30; i++) {
          particles.push({
            x: x,
            y: y,
            vx: Math.cos(i) * Math.random() * 4,
            vy: Math.sin(i) * Math.random() * 4,
            alpha: 1,
            color: `hsl(${Math.random() * 360}, 100%, 60%)`
          });
        }
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, index) => {
          p.x += p.vx;
          p.y += p.vy;
          p.alpha -= 0.02;
          if (p.alpha <= 0) particles.splice(index, 1);
          ctx.globalAlpha = p.alpha;
          ctx.fillStyle = p.color;
          ctx.beginPath();
          ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
          ctx.fill();
        });
        ctx.globalAlpha = 1;
        requestAnimationFrame(animate);
      }

      setInterval(createFirework, 800);
      animate();
    }

    window.onload = showNextMessage;
  </script>
</body>
</html>